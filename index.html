<!DOCTYPE html>
<html lang="pt-Br">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image" href="/assets/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emojify</title>
    <meta name="description" content="Transforme fotos em um mosaico de emojis!" />
    <meta name="keywords" content="emojis, mosaico, fotos, imagens, transformar, emoji, emojify" />
    <meta name="author" content="Jr Gouveia" />
    <meta name="theme-color" content="#ffffff" />
    <meta property="og:title" content="Emojify" />
    <meta property="og:description" content="Transforme fotos em um mosaico de emojis!" />
    <!-- <meta property="og:image" content="https://emojify.jrgouveia.com.br/og-image.png" />
    <meta property="og:url" content="https://emojify.jrgouveia.com.br/" />
    <meta property="og:site_name" content="Emojify" /> -->
    <meta property="og:locale" content="pt_BR" />
    <meta property="og:type" content="website" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="/styles/index.css" />
    <script src="https://code.jquery.com/jquery-3.7.0.js"
        integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
        integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./styles/emojiSliderStyle.css">

</head>

<body>
    <div class="container">
        <div id="controls container">
            <div style="text-align:center;margin:0px;padding:0px;">
                <h1>
                    EMðŸ˜‰JIFY!
                    <!-- <img alt="Emoji Art Maker" id="banner" src="https://assets.codepen.io/1197275/EmojiBanner1.png" /> -->
                </h1>
            </div>

            <div class="select-img-container mt-3">
                <input type='file' name="image" id="image" hidden>
                <div>
                    <button class="comic-button container">Selecione uma imagem</button>
                </div>
                <div class="desc-container mt-1">
                    <span class="desc">
                        A imagem serÃ¡ convertida automagicamente em um mosaico de emojis!
                    </span>
                </div>
            </div>

            <!-- <div class="progress container-fluid" role="progressbar" aria-label="Basic example" aria-valuenow="0"
                aria-valuemin="0" aria-valuemax="97">
                <div class="progress-bar" style="width: 0%"></div>
            </div> -->

            <div class="moji">ðŸ‘€</div>
            <div class="slider">
                <div class="progress mb-3" role="progressbar" aria-label="Basic example" aria-valuenow="0"
                    aria-valuemin="0" aria-valuemax="97">
                    <div id="emojiRange" class="progress-bar" style="width: 0%"></div>
                </div>
            </div>

            <div class="accordion-container mt-2">

                <div class="accordion" id="accordion-settings">

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                ConfiguraÃ§Ãµes
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordion-settings">
                            <div class="container border-bottom mt-2 pb-2">
                                <label for="display">Modo de organizaÃ§Ã£o dos emojis:</label>
                                <select class="form-select text-center" id="display">
                                    <option selected value="grid">Grade</option>
                                    <option value="mosaic">Mosaico</option>
                                    <option value="chart">Chart</option>
                                </select>
                            </div>
                            <div class="container border-bottom mt-2 pb-2">
                                <label title="Smaller window = higher resolution, more emojis, slower"
                                    for="pSize">Densidade:</label>
                                <input oninput="pSizeInfo.innerText=this.value+'px'" type="range" class="form-range"
                                    step="1" min="1" max="50" value="5" id="pSize">
                                <label class="infoLabel" id="pSizeInfo">5px</label>
                            </div>

                            <div class="container border-bottom mt-2 pb-2">
                                <label for="scale"
                                    title="Controls the size of each emoji in the output image. (if you go too high here with lots of emojis, you may exceed max canvas size)">Tamanho
                                    dos Emojis:</label>
                                <input class="form-range" oninput="scaleInfo.innerText=this.value+'px'" type="range"
                                    min="1" step="1" max="50" value="12" id="scale">
                                <label class="infoLabel" id="scaleInfo">12px</label>
                            </div>

                            <div id="c1" class="container border-bottom mt-2 pb-2">
                                <label for="tolerance"
                                    title="Low tolerance = more accurate color, less variety of emojis">Taxa de
                                    correspondÃªncia:</label>
                                <input class="form-range" oninput="toleranceInfo.innerText=this.value" type="range"
                                    min="1" step="1" max="30" value="8" id="tolerance">
                                <label class="infoLabel" id="toleranceInfo">8</label>
                            </div>

                            <div class="container border-bottom mt-2 pb-2" style="display:none">
                                <label for="fillColor"
                                    title="Controls 'empty space' fill color when analyzing emojis and effects brightness of result">Emoji
                                    Fill Color (black to white):</label><input type="color" value="#888888"
                                    id="fillColor">
                            </div>

                            <div class="container border-bottom mt-2 pb-2">
                                <label for="emptySpace"
                                    title="Controls allowed amount of empty space inside emojis. (consider: â— and ðŸŸ¥ are both red)">
                                    TolerÃ¢ncia de espaÃ§os vazios: </label>
                                <input class="form-range"
                                    oninput="emptySpaceInfo.innerText=(this.value*100).toFixed(0)+'%'" type="range"
                                    min=".4" step=".02" max="1" value=".7" id="emptySpace">
                                <label class="infoLabel" id="emptySpaceInfo">70%</label>
                            </div>

                            <div class="container border-bottom mt-2 pb-2">
                                <input type="checkbox" checked id="enableBgColor">
                                <label for="bgColor" title="">Cor de fundo:</label><input type="color" id="bgColor">
                            </div>


                            <div class="container border-bottom mt-2 pb-2">
                                <label for="hideBlack">Ignorar Preto/Transparente</label><input type="checkbox"
                                    id="hideBlack">
                            </div>
                        </div>
                    </div>

                </div>



            </div>

        </div>

        <canvas id="result" class="container mt-2"></canvas>
        <div>
            <button class="comic-button container-fluid mt-2 mb-3" title="Baixar essa obra de arte"
                onclick="downloadIt()">Baixar
                imagem</button>
        </div>

        <footer class="card-footer border-2">
            <div class="container">
                <p>Feito por <a href="https://juniorgouveia.me">Jr Gouveia</a></p>
            </div>
        </footer>
        <script src="/scripts/upload.js"></script>
        <!-- <script src="./scripts/emojiSlider.js"></script> -->
        <script src="./scripts/emojiSlider.js"></script>
        <script src="./scripts/main.js"></script>
    </div>

</body>

</html>